/*! dst-web - v0.0.1 - 2014-03-26 */
function _MenuTree(a,b,c,d){this.CodeName=a,this.Data=b,this.IconPath=c?c:"",this.Target=d?d:"_self",this.ClassName=null,this.IconName="default",this.LastIconName=null,this.SwapMode=0,this.Version="Fonshen JS MenuTree V1.00.07.07.22",this.Self=null,this.ActiveLayer=null,this.ActiveLink=null,this.IsSwap=!1,this.Ubound=b.length-1,this.Links=null,this.Layers=null}_MenuTree.prototype.Draw=function(a,b){var c=(this.LastIconName?this.LastIconName:this.IconName,-1),d="",e=new Array;switch(this.SwapMode){case 0:b=b&&b>0?b:0;break;case 1:b=0;break;case 2:b=b&&b>1?b:1;break;case 3:b=1}for(var f=this.Ubound;f>-1;f--){var g=this.Data[f][0]<c,h=b>=c,i=!e[this.Data[f][0]];i&&(e[this.Data[f][0]]=!0);var j='<li><p class="MT_L'+this.Data[f][0]+'_ITEM"';if(g&&(j+=' onclick="'+this.CodeName+'.Swap(this, 2)"'),j+=">",g&&(j+=h?"<i class='dss-ico-fold-arrow-open'></i>":"<i class='dss-ico-fold-arrow-close'></i>"),j+="<i class='",j+=this.Data[f][4]?this.Data[f][4]:"dss-icon16-file",j+="' ></i><a",j+=this.Data[f][2]?' onclick="'+this.CodeName+'.Mark(null, this)" href="'+this.Data[f][2]+'" target="'+(this.Data[f][5]?this.Data[f][5]:this.Target)+'"':' class="NONE"',this.Data[f][3]&&(j+=' title="'+this.Data[f][3]+'"'),j+=">"+this.Data[f][1]+"</a></p>",this.Data[f][0]>c)for(var k=this.Data[f][0];k>c;k--)j+='</li></ul><p class="MT_L'+k+'_FOOTER"></p></div>';g?(j+='<div style="display:'+(h?"block":"none")+'" class="MT_L'+c,i&&(j+=" LAST"),j+='"><p class="MT_L'+c+'_HEADER"></p><ul class="MT_L'+c+'_BODY">',e[c]=!1):f!=this.Ubound&&(j+="</li>"),d=j+d,c=this.Data[f][0]}d='<p class="MT_L0_HEADER"></p><ul class="MT_L0_BODY">'+d,d='<div id="'+this.CodeName+'" class="'+(this.ClassName?this.ClassName:this.CodeName)+'">'+d,a?a.innerHTML=d:document.write(d),this.Self=document.getElementById(this.CodeName),this.Links=this.Self.getElementsByTagName("a")},_MenuTree.prototype.Mark=function(a,b){if(b)b.parentNode.nextSibling&&(this.IsSwap=!0);else{for(var c="http://"+location.host+a.toLowerCase(),d=0;d<this.Links.length&&this.Links[d].href.toLowerCase()!=c;d++);if(d==this.Links.length)return;b=this.Links[d]}if(this.ActiveLink){if(b==this.ActiveLink)return;this.ActiveLink.className=null;var e=this.ActiveLink.parentNode;e.className=e.className.split(" ")[0]}this.ActiveLink=b,this.ActiveLink.className="ACTIVE";var e=this.ActiveLink.parentNode,f=e.className;e.className=f+" P_ACTIVE";var g=this.ActiveLink.parentNode.parentNode.parentNode.parentNode,h=this.Swaps(g,this.Self,1);(1==this.SwapMode||3==this.SwapMode)&&(this.Swaps(this.ActiveLayer,h,0),this.ActiveLayer=g)},_MenuTree.prototype.SwapAll=function(a){if(1==this.SwapMode||3==this.SwapMode)return-1;this.Layers||(this.Layers=this.Self.getElementsByTagName("div"));for(var b=a,c=0;c<this.Layers.length;c++)(0==this.SwapMode||this.GetDepthByClassName(this.Layers[c].className)>1)&&(b=this.Swap(null,b,this.Layers[c]));return b},_MenuTree.prototype.Modify=function(){for(var a=0;a<this.Links.length;a++)this.Links[a].href&&(this.Links[a].onclick||this.Links[a].setAttribute("onclick",this.CodeName+".Mark(null, this)"),this.Links[a].target||this.Links[a].setAttribute("target",this.Target))},_MenuTree.prototype.Swap=function(a,b,c){if(this.IsSwap)return this.IsSwap=!1,void 0;if(c=c?c:a.nextSibling,"none"==c.style.display){if(0==b)return 0;var d=c.parentNode.parentNode.parentNode;return this.Swaps(c,d,1),(1==this.SwapMode||3==this.SwapMode)&&(this.Swaps(this.ActiveLayer,d,0),this.ActiveLayer=c),1}return 1==b?1:(this.ActiveLayer=c.parentNode.parentNode.parentNode,this.SwapMode>1&&this.ActiveLayer==this.Self?1:(this.Swaps(c,this.ActiveLayer,0),0))},_MenuTree.prototype.Swaps=function(a,b,c){if(!a)return null;for(var d,e=c?"-open":"-close",f=c?"block":"none";a!=b;a=d){if(d=a.parentNode.parentNode.parentNode,3==this.SwapMode&&d==this.Self){if(0==c)return;if(1==c&&a.style.display==f)continue}if(a.style.display==f)break;var g=a.previousSibling.firstChild;$(g).attr("class",this.AlterSuffix($(g).attr("class"),e)),a.style.display=f}return a},_MenuTree.prototype.AlterSuffix=function(a,b){return a.replace(/-[^-]*$/,b)},_MenuTree.prototype.GetDepthByClassName=function(a){var b=new RegExp("^MT_L(\\d+)","i");return b.test(a)?parseInt(RegExp.$1):-1},$(function(){function a(){for(var a=$(".dss-winBox"),b=parseInt(a.eq(0).css("z-index")),c=1;c<a.length;c++)a.eq(c).css("z-index")>parseInt(b)&&(b=a.eq(c).css("z-index"));return parseInt(b)+1}function b(a){a.is(":hidden")?a.show():a.hide()}function c(){$(".dss-top-cont-menu").children("li").click(function(){return $(this).siblings("li").removeClass("active").children("ul").hide().css("width",$(this).parents(".dss-wrap-top-menu-bar").width()),$(this).children("ul").is(":hidden")&&$(this).addClass("active"),$(this).children("ul").show(),f($(this).parents(".dss-winBox")),!1})}function d(a){a.B.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageY,d=b.height(),f=$(this);return $(document).on("mousemove",function(a){var b=a.pageY-c,e=f.parents(".dss-winBox");return e.css("height",b+d),e.outerHeight()<=320&&e.css("height",320),h(e),!1}),e(),!1}),a.R.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=b.width(),f=$(this);return $(document).on("mousemove",function(a){var b=a.pageX-c,e=f.parents(".dss-winBox");e.css("width",b+d);var g=0;return e.outerWidth()<=350&&e.css("width",350),a.pageX+20===$(document).width()&&(g=e.width()),o(e.find(".dss-list-view")),!1}),e(),!1}),a.Rb.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=a.pageY,f=b.width(),g=b.height(),i=$(this);return $(document).on("mousemove",function(a){var b=a.pageX-c,e=a.pageY-d,j=i.parents(".dss-winBox");return j.css({width:b+f,height:e+g}),j.outerHeight()<=320&&j.css("height",320),j.outerWidth()<=350&&j.css("width",350),h(j),o(j.find(".dss-list-view")),!1}),e(),!1}),a.T.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageY,d=b.height(),f=b.offset().top,g=$(this);return $(document).on("mousemove",function(a){var b=c-a.pageY,e=g.parents(".dss-winBox");return e.css("height",b+d),e.offset({top:f-b}),e.outerHeight()<=320&&e.css("height",320).offset({top:f+(d-320)}),e.offset().top<=0&&e.offset({top:0}).css("height",d+f),h(e),!1}),e(),!1}),a.L.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=b.width(),f=b.offset().left,g=$(this);return $(document).on("mousemove",function(a){var b=c-a.pageX,e=g.parents(".dss-winBox");return e.css("width",b+d),e.offset({left:f-b}),e.outerWidth()<=350&&(e.css("width",350),e.offset({left:f+(d-350)})),!1}),e(),!1}),a.Rt.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=a.pageY,f=b.width(),g=b.height(),i=b.offset().top,j=$(this);return $(document).on("mousemove",function(a){var b=a.pageX-c,e=d-a.pageY,k=j.parents(".dss-winBox");return k.css({width:b+f,height:e+g}),k.offset({top:i-e}),k.outerWidth()<=350&&k.css("width",350),k.outerHeight()<=320&&k.css("height",320).offset({top:i+(g-320)}),k.offset().top<=0&&k.offset({top:0}).css("height",g+i),h(k),o(k.find(".dss-list-view")),!1}),e(),!1}),a.Lt.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=a.pageY,f=b.width(),g=b.height(),i=b.offset().top,j=b.offset().left,k=$(this);return $(document).on("mousemove",function(a){var b=c-a.pageX,e=d-a.pageY,l=k.parents(".dss-winBox");return l.css({width:b+f,height:e+g}),l.offset({left:j-b,top:i-e}),l.outerWidth()<=350&&l.css("width",350).offset({left:j+(f-350)}),l.outerHeight()<=320&&l.css("height",320).offset({top:i+(g-320)}),l.offset().top<=0&&l.offset({top:0}).css("height",g+i),h(l),!1}),e(),!1}),a.Lb.on("mousedown",function(a){var b=$(this).parents(".dss-winBox"),c=a.pageX,d=a.pageY,f=b.width(),g=b.height(),i=b.offset().top,j=b.offset().left,k=$(this);return $(document).on("mousemove",function(a){var b=c-a.pageX,e=a.pageY-d,l=k.parents(".dss-winBox");return l.css({width:b+f,height:e+g}),l.offset({left:j-b}),l.outerWidth()<=350&&l.css("width",350).offset({left:j+(f-350)}),l.outerHeight()<=320&&l.css("height",320),l.offset().top<=0&&l.offset({top:0}).css("height",g+i),h(l),!1}),e(),!1})}function e(){$(document).mouseup(function(){$(document).off("mousemove"),$(document).off("mouseup")})}function f(a){E++,a.css("z-index",E).removeClass("dss-noCurWin").siblings(".dss-winBox").addClass("dss-noCurWin");var b=$("li[thumbwin='"+a.attr("win")+"']");if("0"===a.attr("win").charAt(0)&&1!==a.attr("win").length){var c=b.siblings();b.addClass("hight").removeClass("disabled"),b.parent().next().children("li").removeClass("hover");for(var d=0;d<c.length;d++)"hight"===c.eq(d).attr("class")&&c.eq(d).addClass("disabled");$("#dss-lt-default-icon>li").removeClass("hight"),b.addClass("hight")}else{var e=$("#dss-thumb-icon>li"),f=b.parent().prev().children("li");e.removeClass("hover"),b.addClass("hover");for(var g=0;g<f.length;g++)"hight"===f.eq(g).attr("class")&&f.eq(g).addClass("disabled");f.removeClass("hight")}}function g(a){var b=0,c=0;a.mousedown(function(a){var d=$(this).parents(".dss-winBox").offset();b=a.pageX-d.left,c=a.pageY-d.top;var g=$(this);return f(g.parents(".dss-winBox")),$(document).mousemove(function(a){var d=a.pageX-b,e=a.pageY-c,f=$(document).height()-g.parents(".dss-winBox").find(".dss-title-bar").outerHeight()-$("#dss-wrap-bottom-bar").height()-5;return 0>e?e=0:e>f&&(e=f),g.parents(".dss-winBox").offset({left:d,top:e}),!1}),e(),!1}),a.parents(".dss-winBox").click(function(){f($(this))})}function h(a){var b=a.find(".dss-win-inner"),c=b.find(".dss-window-content").position().top,d=b.find(".dss-window-btm").height(),e=b.find(".dss-sub-menu-fix").height();$(".dss-menu-rt-unfold")?a.find(".dss-window-content").css("height",a.height()-c-d):"true"===a.find(".dss-menu-rt-unfold").attr("unfoldOnOff")?a.find(".dss-window-content").css("height",b.height()-c-d):a.find(".dss-window-content").css("height",b.height()-c-d-e)}function i(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes();10>e?e="0"+e:e,10>f?f="0"+f:f;var g=b+"/"+c+"/"+d,h=e+":"+f;$("#dss-rt-default li:last").find("em").html(h+"<br/>"+g)}function j(){for(var a=$(".dss-win-title-icon"),b=0;b<a.length;b++){var c=a.eq(b).parents(".dss-winBox").attr("type");switch(c){case"file":a.eq(b).children("i").addClass("dss-icon16-win-title");break;case"txt":a.eq(b).children("i").removeClass().addClass("dss-icon16-txt");break;case"help":a.eq(b).children("i").removeClass().addClass("dss-icon16-txt");break;case"code":a.eq(b).children("i").removeClass().addClass("dss-icon16-txt")}}}function k(){for(var a=$(".dss-winBox"),b=$("#dss-lt-default-icon").children("li"),c=0;c<b.length;c++)b.eq(c).attr("thumbwin","0"+c);for(var d=0;d<a.length;d++){"0"===a.eq(d).attr("win").charAt(0)&&1!==a.eq(d).attr("win").length&&a.eq(d).hide(),$("#dss-thumb-icon>li").eq(d).attr("thumbwin",d);var e=a.eq(d).attr("type"),f=$("li[thumbwin='"+a.eq(d).attr("win")+"']");switch(e){case"file":f.find("a").find("em").children("i").addClass("dss-icon32-bt-file");break;case"txt":f.find("a").find("em").children("i").addClass("dss-icon32-note")}}}function l(){for(var a=["#2d89ef","#0098ab","#0a58c1","#009f00","#da532c","#93009c","#5636b0","#009cae","#2d8aef","#3e17b9"],b=$("#dss-page-cont").find(".dss-rec-b-cont"),c=1;c<b.length-8;c++)b[c].style.backgroundColor=a[c%10]}function m(){var a=$("body"),b=$(".dss-bar");$(".dss-bar-m").width(a.width()-66),b.width(Math.round(a.width()*a.width()/$("#dss-page-cont").width()))}function n(a){0>a?a=0:a>$(".dss-bar-m").outerWidth()-$(".dss-bar").outerWidth()&&(a=$(".dss-bar-m").outerWidth()-$(".dss-bar").outerWidth()),$(".dss-bar").css("left",a);var b=a/($(".dss-bar-m").outerWidth()-$(".dss-bar").outerWidth());$("#dss-page-cont").css("left",($("#dss-page-wrap").outerWidth()-$("#dss-page-cont").outerWidth())*b)}function o(a){var b=a.find(".dss-list-content-icon"),c=b.find(".dss-list-txt-bottom");a.find(".dss-list-content-icon").width()<380?c.hide():c.show()}function p(a){for(var b=a.find("tbody").children("tr"),c="",d=0;d<b.length;d++){c=b.eq(d).children("td").eq(0).text();for(var e=0;e<b.length-d;e++)-1==b.eq(e+1).children("td").eq(0).text().localeCompare(b.eq(e).children("td").eq(0).text(),"zh")&&(str=b.eq(e).html(),b.eq(e).html(b.eq(e+1).html()),b.eq(e+1).html(str))}}function q(a){function b(a){var b=a.touches[0].clientX-d,c=a.touches[0].clientY-e,f=$(document).height()-g.find(".dss-title-bar").outerHeight()-$("#dss-wrap-bottom-bar").height()-5;0>c&&(c=0),c>f&&(c=f),g.get(0).style.left=b+"px",g.get(0).style.top=c+"px",a.preventDefault()}function c(){document.removeEventListener("touchstart",q),document.removeEventListener("touchmove",b)}var d=a.touches[0].clientX-$(this).parents(".dss-winBox").get(0).offsetLeft,e=a.touches[0].clientY-$(this).parents(".dss-winBox").get(0).offsetTop,g=$(this).parents(".dss-winBox");document.addEventListener("touchmove",b,!1),f($(this).parents(".dss-winBox")),document.addEventListener("touchend",c,!1)}function r(a){G=(new Date).getTime(),J=a.touches[0].clientX-parseInt($(this).parents(".dss-winBox").css("left"))-parseInt($(this).parent().prev().outerWidth(!0)),K=a.touches[0].clientY-parseInt($(this).parents(".dss-winBox").css("top"))-105}function s(){H=(new Date).getTime(),I=H-G,I>400&&$(this).next(".dss-rt-menu-content").show().css({left:J+"px",top:K+"px"})}var t=$(".dss-win-inner"),u=t.find(".dss-window-resize-b"),v=t.find(".dss-window-resize-r"),w=t.find(".dss-window-resize-t"),x=t.find(".dss-window-resize-l"),y=t.find(".dss-window-resize-rb"),z=t.find(".dss-window-resize-rt"),A=t.find(".dss-window-resize-lt"),B=t.find(".dss-window-resize-lb"),C={B:u,R:v,Rb:y,T:w,L:x,Rt:z,Lt:A,Lb:B},D=$(".dss-top-tool-custome-list"),E=$("winBox").length;g($(".dss-title-bar")),k(),d(C),j(),i(),setInterval(function(){i()},1e3),c(),$(".dss-minwin-btn").click(function(){var a=$(this).parents(".dss-winBox");a.hide();var b=$("li[thumbwin='"+a.attr("win")+"']");return b.removeClass("hover"),b.is(":hidden")&&b.show(),"0"===b.attr("thumbwin").charAt(0)&&1!==b.attr("thumbwin").length&&b.addClass("disabled"),!1}),$(".dss-closewin-btn").click(function(){var a=$(this).parents(".dss-winBox");return a.hide(),"0"===a.attr("win").charAt(0)&&1!==a.attr("win").length?$("li[thumbwin='"+a.attr("win")+"']").removeClass():$("li[thumbwin='"+a.attr("win")+"']").hide(),!1}),$("#dss-thumb-icon").children("li").click(function(){E=a();var b=$(".dss-winBox[win='"+$(this).attr("thumbwin")+"']"),c=b.css("z-index");$(this).children("div").fadeOut(),$(this).addClass("hover").siblings().removeClass("hover");for(var d=$(this).parents("ul").prev().children("li"),e=0;e<d.length;e++)$(".dss-winBox[win='"+d.eq(e).attr("thumbwin")+"']").is(":visible")&&d.eq(e).removeClass("height").addClass("disabled");return 0===c?b.css("z-index",E).show().removeClass("dss-noCurWin").siblings().addClass("dss-noCurWin"):c===E-1&&b.is(":visible")?b.hide():(b.is(":hidden")||E>c&&b.is(":visible"))&&b.css("z-index",E).show().removeClass("dss-noCurWin").siblings().addClass("dss-noCurWin"),clearTimeout($(this)[0].timer),!1}).mouseenter(function(){var a=$(this);a[0].show=setTimeout(function(){a.children("div").fadeIn().end().siblings().children("div").fadeOut().children("div").children("div").removeClass("hov")},300),clearTimeout($(this)[0].timer)}).mouseleave(function(){var a=$(this);a[0].timer=setTimeout(function(){a.children("div").hide()},300)}),$(".dss-tool-bar").children("li").each(function(){$(this).children("i").length&&$(this).hover(function(){var a=$(this).children("i").attr("class").split("-");return"disabled"==a[a.length-1]?!1:($(this).addClass("hover").siblings().removeClass("hover"),void 0)},function(){$(this).removeClass("hover")}).children("i").attr("onOff",!0).click(function(){return $(".dss-top-menu-cont").children("li").attr("onOff",!0).removeClass("hover").find("ul").hide(),$(this).parent().siblings().children("i").attr("onOff",!0).next("ul").hide(),"true"===$(this).attr("onOff")?($(".dss-sub-tool").hide().prev("i").attr("onOff",!0),$(this).next().show(),$(this).attr("onOff",!1)):($(this).next().hide(),$(this).attr("onOff",!0)),!1}).next("ul").children("li").click(function(){return $(this).parent("ul").hide(),$(this).parent("ul").prev("i").attr("onOff",!0),!1})}),$("#dss-wrap-bottom-bar li").children("div").mouseenter(function(a){$(this).show().children("div").addClass("hov").find("strong").show().parents("li").siblings().find("strong").hide().parents("li").find("div").removeClass("hov"),clearTimeout($(this).parents("li")[0].timer),clearTimeout($(this)[0].timer),a.stopPropagation()}).click(function(){return E=a(),$(this).hide(),$(this).parent().addClass("hover").siblings().removeClass("hover"),$(".dss-winBox[win='"+$(this).parent().attr("thumbwin")+"']").show().css("z-index",E).removeClass("dss-noCurWin").siblings().addClass("dss-noCurWin"),clearTimeout($(this)[0].timer),!1}).mouseleave(function(a){$(this).find("div").removeClass("hov").parents("li").find("strong").hide();var b=$(this);b[0].timer=setTimeout(function(){b.hide()},500),a.stopPropagation()}).find("strong").click(function(){var a=$(".dss-winBox[win='"+$(this).parents("li").attr("thumbwin")+"']");return"dss-lt-default-icon"===$(this).parents("ul").attr("id")?(a.hide(),$(this).parents("li").removeClass().children("div").hide(),!1):($(this).parents("li").hide(),a.hide(),!1)}),$("#dss-lt-default-icon").children("li").click(function(){var b=$(".dss-winBox[win='"+$(this).attr("thumbwin")+"']"),c=parseInt(b.css("z-index"));E=a(),b.is(":hidden")?(b.show().css("z-index",E).removeClass("dss-noCurWin").siblings().addClass("dss-noCurWin"),$(this).addClass("hight").removeClass("disabled").parents("ul").next().children("li").removeClass("hover")):b.is(":visible")&&(c===E-1?(b.hide(),$(this).addClass("disabled").removeClass("hight")):E>c&&($(this).addClass("hight").removeClass("disabled").siblings().removeClass("hight").parents("ul").next().children("li").removeClass("hover"),b.css("z-index",E).show().removeClass("dss-noCurWin").siblings().addClass("dss-noCurWin")));for(var d=$(this).siblings(),e=0;e<d.length;e++)$(".dss-winBox[win='"+d.eq(e).attr("thumbwin")+"']").is(":visible")&&d.eq(e).removeClass("hight").addClass("disabled")}).mouseenter(function(){var a=$(".dss-winBox[win='"+$(this).attr("thumbwin")+"']");if("dss-lt-default-icon"!==$(this).parent().attr("id")||!a.is(":hidden")){var b=$(this);b[0].show=setTimeout(function(){b.children("div").fadeIn().end().siblings().children("div").fadeOut().children("div").children("div").removeClass("hov")},500),clearTimeout($(this)[0].timer)}}).mouseleave(function(){var a=$(this);a[0].timer=setTimeout(function(){a.children("div").hide()},500)}),D.click(function(a){var c=$(this).find("div");b(c),a.stopPropagation()}),$("#dss-zoom-wallpaper-grid").on({click:function(){D.find("div").hide(),$(".dss-site-input").hide(),$(".dss-site").removeClass("dss-site-act"),$(".dss-sub-cont-file").hide(),$(".dss-wrap-tool2-sub").find("ul").hide(),$(".dss-top-cont-menu").children("li").children("ul").hide(),$("#dss-thumb-icon").children("li").children("div").hide(),$(".dss-top-menu-cont>li").children("ul").hide(),400>I&&$(".dss-rt-menu-content").hide(),$(".dss-tool-bar").find(".dss-sub-tool").hide().end().find(".dss-ico-tool-custome").attr("onOff",!0),$(".dss-top-menu-cont").attr("onOff",!1).children("li").attr("onOff",!0).removeClass("hover")},"mouseup.hideList":function(){$(".dss-rt-menu-list").hide()},"mouseup.hideCon":function(){$(".dss-rt-menu-content").hide()}}),$(".dss-site").on("click",function(){var a=$(this).find("span").html();return $(this).find("input").val(a),$(this).find(".dss-site-input").show(),$(this).find("input").select(),$(this).addClass("dss-site-act"),!1}),$(".dss-top-menu-lt").children("h2").click(function(){return b($(this).next()),f($(this).parents(".dss-winBox")),!1}),$(".dss-top-tool2-sub").click(function(){return b($(this).find("ul")),!1}),$(".dss-sub-file>li").mouseover(function(){var a=$(this).parent().next($(".dss-file-collec")).children("div");a.hide(),a.eq($(this).index()+1).show(),$(this).addClass("hover").siblings().removeClass("hover"),$(this).index()===a.length-1&&a.eq(0).show()}).mouseout(function(){$(this).addClass()}),$(".dss-menu-rt-unfold").attr("unfoldOnOff",!0).click(function(){var a=$(this).parents(".dss-winBox"),b=a.find(".dss-sub-menu-fix");"true"===$(this).attr("unfoldOnOff")?(a.find(".dss-sub-homepage").hide().end().find(".dss-wrap-top-menu-bar").next(".dss-sub-homepage").show(),$(this).attr("unfoldOnOff",!1).removeClass("dss-menu-rt-unfold-down").addClass("dss-menu-rt-unfold-up"),a.find(".dss-sub-menu-fix").empty().end().find(".dss-wrap-top-menu-bar").find(".dss-sub-homepage").clone().appendTo(b).show(),a.find(".dss-window-content-lt").css("height",a.height()-270)):($(this).removeClass("dss-menu-rt-unfold-up").addClass("dss-menu-rt-unfold-down").attr("unfoldOnOff",!0).parents(".dss-winBox").find(".dss-sub-homepage").hide(),a.find(".dss-window-content-lt").css("height",a.height()-160))}),$(".dss-top-menu-cont").children("li").click(function(){return"true"===$(this).attr("onOff")?($(".dss-top-menu-cont>li").children("ul").hide(),$(this).siblings().removeClass("hover").end().children("ul").show().end().addClass("hover").attr("onOff",!1).parent().attr("onOff",!0)):($(this).removeClass("hover").children("ul").hide(),$(".dss-top-menu-cont").children("li").andSelf().attr("onOff",!0)),f($(this).parents(".dss-winBox")),$(".dss-tool-bar").find("ul").hide().prev("i").attr("onOff",!0),!1}).mouseover(function(){for(var a="",b=0;b<$(".dss-top-menu-cont>li").length;b++)a+=$($(".dss-top-menu-cont>li")[b]).attr("onOff");-1!==a.indexOf("false")&&"true"===$(this).parent().attr("onOff")&&($(".dss-top-menu-cont>li").children("ul").hide(),$(this).siblings().removeClass("hover").end().addClass("hover").attr("onOff",!1).children("ul").show())}).children("ul").hide().end().attr("onOff",!0),$("#dss-return-metro").hover(function(){$(this).addClass("dss-re-metro-hover")},function(){$(this).removeClass()}).click(function(){$("#dss-zoom-wallpaper-grid").fadeOut(100),$("#dss-page").show()}),$(".dss-ico-tool-custome").next("ul").children("li").attr("choosed",!1).click(function(){"false"===$(this).attr("choosed")?($(this).children("i").addClass("dss-ico-choose"),$(this).attr("choosed",!0)):($(this).children("i").removeClass("dss-ico-choose"),$(this).attr("choosed",!1))}),l(),$("#dss-page-cont").find(".dss-rec-b-cont").eq(0).click(function(){$(this).parents("#dss-page").fadeOut().prev().fadeIn(),$(".dss-winBox").each(function(){h($(this))})}),m(),window.onresize=function(){m()},$(".dss-bar-l").add($(".dss-bar-r")).add($(".dss-bar")).hover(function(){$(this).addClass("dss-bg-scorll-over").removeClass("dss-bg-over")},function(){$(this).removeClass("dss-bg-scorll-over").addClass("dss-bg-over")}),$(".dss-bar-l").mousedown(function(){var a=$(".dss-bar"),b=a.position().left,c=parseInt(a.outerWidth()/50);a.css("left",b-c+"px"),n(a.position().left)}),$(".dss-bar-r").mousedown(function(){var a=$(".dss-bar"),b=a.position().left,c=parseInt(a.outerWidth()/50);a.css("left",b+c+"px"),n(a.position().left)}),$(".dss-bar").mousedown(function(a){var b=a.clientX-$(this).position().left;$(document).mousemove(function(a){var c=a.clientX-b;n(c)}),e()}),$(".dss-split-v").children(".dss-window-content-lt").split({max:750,min:150,isClose:!1,direction:"horizontal",isFolding:!1}),$(".dss-split-h").children(".dss-window-content-lt").split({max:750,min:150,isClose:!1,direction:"vertical",isFolding:!1}),$(document).on({contextmenu:function(a){a.preventDefault()}}),$(".dss-window-content-rt").on("mouseup",function(a){if(3===a.which){var b=a.clientX-parseInt($(this).parents(".dss-winBox").css("left"))-parseInt($(this).prev().outerWidth(!0)),c=a.clientY-parseInt($(this).parents(".dss-winBox").css("top"))-105;$(".dss-rt-menu-content").hide(),$(this).children(".dss-rt-menu-content").show().css({left:b+"px",top:c+"px"})}$("#dss-zoom-wallpaper-grid").trigger("mouseup.hideList"),a.stopPropagation()}),$(".dss-list-li-icon").children("li").on("mouseup",function(a){if(3===a.which){var b=a.clientX-parseInt($(this).parents(".dss-winBox").css("left"))-parseInt($(this).prev().outerWidth(!0)),c=a.clientY-parseInt($(this).parents(".dss-winBox").css("top"))-105;$(".dss-rt-menu-list").hide(),$(this).parents(".dss-window-content-rt").children(".dss-rt-menu-list").show().css({left:b+"px",top:c+"px"})}$("#dss-zoom-wallpaper-grid").trigger("mouseup.hideCon"),a.stopPropagation()}),$(".dss-list-txt").children("li").click(function(){function a(a){d.find("i").each(function(){var b=$(this).attr("class").split("-");b[1]="icon"+a,$(this).attr("class",b.join("-"))})}var b=$(this).children("span").text(),c=$(this).parents(".dss-window-content-rt"),d=c.find(".dss-list-view").children("ul");switch($(this).children("i").addClass("dss-ico-choose-li").end().siblings().children("i").removeClass("dss-ico-choose-li"),b){case"超大图标(X)":d.removeClass().addClass("dss-list-supBig-icon").show().next(".dss-list-detail").hide(),a(252);break;case"大图标(R)":d.removeClass().addClass("dss-list-big-icon").show().next(".dss-list-detail").hide(),a(96);break;case"中等图标(M)":d.removeClass().addClass("dss-list-mid-icon").show().next(".dss-list-detail").hide(),a(48);break;case"小图标(N)":d.removeClass().addClass("dss-list-small-icon").show().next(".dss-list-detail").hide(),a(16);break;case"列表(N)":d.removeClass().addClass("dss-list-li-icon").show().next(".dss-list-detail").hide(),a(16);break;case"详细信息(N)":d.hide(),$(".dss-list-detail").show(),p($(".dss-list-detail"));break;case"平铺(N)":d.removeClass().addClass("dss-list-tile-icon").show().next(".dss-list-detail").hide(),a(48);break;case"内容(N)":d.removeClass().addClass("dss-list-content-icon").show().next(".dss-list-detail").hide(),a(32)}}),$(".dss-list-detail").find(".dss-list-split").mousedown(function(a){var b=a.clientX,c=$(this),d=c.parent(),f=d.width(),g=c.parents(".dss-list-detail").find(".dss-list-split").index($(this))+1;$(document).on("mousemove",function(a){var d=f+(a.clientX-b);80>=d&&(d=80),c.parent().width(d),c.parents("th").innerWidth(d),$("td:nth-child("+g+")").innerWidth(d).children("span").width(d)}),e()}).end().find("th").attr("order","ascend").on("click",function(a){if("dss-list-split"!=$(a.target).attr("class")){var b=$(this).closest(".dss-list-detail"),c=b.find("tbody").children("tr"),d="",e="",f=null,g=null;if("ascend"===$(this).attr("order")){for(var h=0;h<c.length;h++){e=c.eq(h).children("td:nth-child("+($(this).index()+1)+")").text();for(var i=0;i<c.length-h;i++)isNaN(parseInt(e))?1==c.eq(i+1).children("td").eq($(this).index()).text().localeCompare(c.eq(i).children("td").eq($(this).index()).text(),"zh")&&(d=c.eq(i).html(),c.eq(i).html(c.eq(i+1).html()),c.eq(i+1).html(d)):(-1!=e.indexOf("/")?(f=new Date(c.eq(i).children("td").eq($(this).index()).text()).getTime(),g=new Date(c.eq(i+1).children("td").eq($(this).index()).text()).getTime()):(f=parseInt(c.eq(i).children("td").eq($(this).index()).text()),g=parseInt(c.eq(i+1).children("td").eq($(this).index()).text())),g>f&&(d=c.eq(i).html(),c.eq(i).html(c.eq(i+1).html()),c.eq(i+1).html(d)))}$(this).attr("order","descend").find(".dss-ico-sort-arrow").css("background-position","-165px -87px")}else{for(var h=0;h<c.length;h++){e=c.eq(h).children("td").eq($(this).index()).text();for(var i=0;i<c.length-h;i++)isNaN(parseInt(e))?-1==c.eq(i+1).children("td").eq($(this).index()).text().localeCompare(c.eq(i).children("td").eq($(this).index()).text(),"zh")&&(d=c.eq(i).html(),c.eq(i).html(c.eq(i+1).html()),c.eq(i+1).html(d)):(-1!=e.indexOf("/")?(f=new Date(c.eq(i).children("td").eq($(this).index()).text()).getTime(),g=new Date(c.eq(i+1).children("td").eq($(this).index()).text()).getTime()):(f=parseInt(c.eq(i).children("td").eq($(this).index()).text()),g=parseInt(c.eq(i+1).children("td").eq($(this).index()).text())),f>g&&(d=c.eq(i).html(),c.eq(i).html(c.eq(i+1).html()),c.eq(i+1).html(d)))}$(this).attr("order","ascend").find(".dss-ico-sort-arrow").css("background-position","-186px -87px")}$(this).find(".dss-ico-sort-arrow").show().closest("th").siblings("th").find(".dss-ico-sort-arrow").hide()}});var F=$(".dss-winBox");F.each(function(){$(this).find(".dss-title-bar").get(0).addEventListener("touchstart",q,!1)});var G=0,H=0,I=0,J=0,K=0;$(".dss-list-view").each(function(){$(this).get(0).addEventListener("touchstart",r,!1),$(this).get(0).addEventListener("touchend",s,!1)});var L=$(".dss-top-menu-cont").children("li");L.children("ul").add($(".dss-rt-menu-content").children("ul")).find("li").click(function(){return $(this).is(":has(ul)")?!1:($("#dss-zoom-wallpaper-grid").triggerHandler("click"),!1)});{var M=$(".dss-question").width();$(".dss-question").height()}$("#dss-page-question").children(".dss-q-btn-close").click(function(){$(this);$(this).siblings().eq(0).is(":visible")?($(this).children("i").css({transform:"rotate(270deg)","-moz-transform":"rotate(0deg)","-webkit-transform":"rotate(0deg)","-o-transform":"rotate(0deg)"}),$(this).siblings().eq(0).animate({width:0,height:0,opacity:0},400,function(){$(this).hide()})):($(this).children("i").css({transform:"rotate(270deg)","-moz-transform":"rotate(225deg)","-webkit-transform":"rotate(225deg)","-o-transform":"rotate(225deg)"}),$(this).siblings().eq(0).css("height","auto").animate({width:M,opacity:1},400,function(){$(this).show()}))}).end().find(".dss-btn-q-all").click(function(){$(this).parents(".dss-q-cur").hide().next(".dss-q-all").show()}).end().find(".dss-btn-q-cur").click(function(){$(this).parents(".dss-q-all").hide().prev(".dss-q-cur").show()}).end().find(".dss-q-title").mousedown(function(a){var b=$(this).parents("#dss-page-question"),c=b.offset();J=a.pageX-c.left,K=a.pageY-c.top;var d=$(this);$(document).mousemove(function(a){var b=a.pageX-J,c=a.pageY-K,e=$(document).height()-$(".dss-q-title").height()-5-$("#dss-wrap-bottom-bar").height();return 20>c?c=20:c>e&&(c=e),d.parents("#dss-page-question").offset({left:b,top:c}),!1}),e()}),$(".dss-disk").children("li").mouseup(function(a){if(3===a.which){var b=a.clientX-parseInt($(this).parents(".dss-winBox").css("left")),c=a.clientY-parseInt($(this).parents(".dss-winBox").css("top"))-105-parseInt($(this).parents(".dss-window-content-rt").prev().height());$(".dss-rt-menu-list").hide(),$(this).parents(".dss-window-content-rt").children(".dss-rt-menu-list").show().css({left:b+"px",top:c+"px"})}$("#dss-zoom-wallpaper-grid").trigger("mouseup.hideCon"),a.stopPropagation()}),$(".dss-progress-start").click(function(){$(this).prev("span").children("span").animate({width:"100%"},2e3,function(){alert("OK")})});var N="";$(".dss-list-title").children("i").attr("listTitleShow",!0).hover(function(){N=$(this).attr("class"),$(this).removeClass().addClass(N+"-hover")},function(){$(this).removeClass().addClass(N)}).click(function(){"true"===$(this).attr("listTitleShow")?($(this).removeClass().addClass("dss-ico-fold-arrow-close-hover").parent().next("ul").hide(),N="dss-ico-fold-arrow-close",$(this).attr("listTitleShow",!1)):($(this).removeClass().addClass("dss-ico-fold-arrow-open-hover").parent().next("ul").show(),N="dss-ico-fold-arrow-open",$(this).attr("listTitleShow",!0))})}),$.fn.extend({split:function(a){return this.each(function(){var b=$(this),c=$('<div class="split"></div>'),d=$('<div class="arrow"></div>'),e=(b.next(),b.parent()),f={isClose:!1,direction:"horizontal",isFolding:!1},g=a.isClose||f.isClose,h=a.direction||f.direction,i=a.isFolding||f.isFolding;f.max=3*("horizontal"===h?e.width():e.height())/4,f.min=("horizontal"===h?e.width():e.height())/4;var j=(a.max||f.max,a.min||f.min);$(this).append(c),i&&($(this).children(".split").append(d),g&&("horizontal"===h?b.width(c.width()).next().width(e.width()-b.width()):b.height(c.height()).next().height(e.height()-b.height()),c.css("cursor","pointer")),c.on("click",function(){return g?("horizontal"===h?b.width(j).next().width(e.width()-j):b.height(j).next().height(e.height()-j),g=!1,"horizontal"===h?c.css("cursor","e-resize"):c.css("cursor","s-resize"),!1):void 0}),d.on("click",function(){return console.log("33333333333"),0==g?(c.css("cursor","pointer"),"horizontal"===h?b.width(c.width()).next().width(e.width()-b.width()):b.height(c.height()).next().height(e.height()-b.height()),g=!0):("horizontal"===h?c.css("cursor","e-resize"):c.css("cursor","s-resize"),"horizontal"===h?b.width(j).next().width(e.width()-j):b.height(j).next().height(e.height()-j),g=!1),!1
})),b.children(".split").mousedown(function(a){var b="horizontal"===h?a.screenX:a.screenY,c="horizontal"===h?$(this).parent().width():$(this).parent().height(),d=$(this).parent();return $(document).mousemove(function(a){var f=0,g=0;"horizontal"===h?(f=a.screenX-b,g=(f+c)/e.width()*100,g>=90&&(g=90),10>=g&&(g=10),d.css("width",g+"%").next().css("width",100-g+"%")):(f=a.screenY-b,g=(f+c)/e.height()*100,g>=90&&(g=90),10>=g&&(g=10),d.css("height",g+"%").next().css("height",100-g+"%"))}),$(document).mouseup(function(){$(document).off("mousemove"),$(document).off("mouseup")}),!1})})}});
/*! dst-web update time： 2014-03-26 */